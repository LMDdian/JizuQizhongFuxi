# 计算机组成原理

要求先修课程 程序设计语言 计算机导论 计算机电路基础

本课程讨论单机系统范围内计算机各部件和系统的组成以及内部工作机制。

## 第一章 概论

### 1.1 电子计算机与存储程序控制

电子计算机全称为电子数字计算机。非电子计算机有光计算机、量子计算机、超导计算机，非数字计算机有模拟计算机。

第一台电子数字计算机是1946年2月问世的ENIAC，一直使用到1955年。

存储程序有冯·诺依曼等人于1945年6月提出。

其主要概念为

1. 计算机（指硬件）应有运算器、存储器、控制器、输入设备和输出设备五大基本部件组成；
2. 计算机内部采用二进制来表示指令和数据；
3. 将编好的程序和原始数据事先存入存储器中，然后再启动计算机工作。

以上就是存储程序的基本含义。

事实上第一台存储程序计算机EDSAC于1949年诞生，冯诺依曼设计的存储程序计算机EDVAC于1951年诞生。

目前绝大多数计算机仍建立在存储程序概念的基础上，称为冯·诺伊曼型计算机。

也出现了一些突破冯·诺伊曼机构的计算机，统称为非冯结构计算机，如：数据驱动的数据流计算机、需求驱动的规约计算机和模式匹配驱动的智能计算机等。

### 1.2 计算机的硬件组成

主机由中央处理器（CPU）和主存储器组成，中央处理器由运算器和控制器组成，除去主机以外的硬件装置（如输入设备、输出设备、辅助存储器）等称为外部设备。

#### 计算机的主要部件

##### 输入设备

输入设备的任务是把人们编好的程序和原始数据送到计算机中去，并且将他们转换成计算机内部所能识别和接受的信息方式，常用的由键盘、鼠标、扫描仪等。

##### 输出设备

输出设备的任务是将计算机的处理结果以人或其他设备所能接受的形式送出计算机。常用的由显示、打印机、绘图仪等。

##### 存储器

存储器是用来存放程序和数据的不见，它是一个记忆装置，也是计算机能够实现“存储程序控制”的基础。

###### 主存储器

可由CPU直接访问，用来存放当前正在执行的程序和数据。

###### 辅助存储器

设置在主机外部，CPU不能直接访问，用来存放暂时不参与运行的程序和数据，需要时在传送到主存。

###### 高速缓存存储器（Cache）

CPU可以直接访问吗用来存放当前正在执行的程序中的活跃部分（副本），以便快速地像CPU提供指令和数据。

##### 运算器

运算器使对信息进行处理和运算的部件，经常进行的运算时算数运算和逻辑运算，因此计算器的核心时算术逻辑运算部件ALU。

运算其中由若干个寄存器（如累加寄存器，暂存器等）。

##### 控制器

控制器时整个计算机的指挥中心。

控制器中主要包括时序控制信号形成部件和一些专用的寄存器。

#### 各大部件之间的连接

将各大基本部件吗，按某种方式连接起来就构成了计算机的硬件系统。

##### 总线结构（小、微型机的典型机构）

目前很多计算机的各大基本部件之间使用总线连接起来的。

总线时一组能为多个部件服务的公共信息传送线路，它能分时地发送于接受各部件的信息。

###### 总线特点：

* 共享
* 分时

小型、微型机的设计目标是以较小的硬件代价组成具有较强功能的系统，而总线结构正好能满足这一要求。

单总线并不是指只有一根信号线。系统总线按传送信息的不同又可以细分为：地址总线，数据总线和控制总线。

###### 地址总线

由单方向的多跟信号线组成，用于CPU向主存、外设传输地址信息

###### 数据总线

由双方向的多跟信号线组成，CPU可以沿这些线从贮存或外设读入数据，也可以沿这些线向主存或外设送出数据；

###### 控制总线

控制总线上传输的是控制信息，包括CPU送出的控制命令和主存/外设反馈给CPU的状态信号。

##### 大、中型计算机的典型机构

大、中型计算机系统的设计目标更着重于系统功能的扩大和效率的提高。

在系统连接上分为四级：主机、通道、设备控制器、外部设备。

通道是承担I/O操作管理的主要部件，主机可以连接多个通道，每个通道可以接一台或几台设备控制器，每个设备控制器由可接一台或几台外部设备，这样整个系统就可以连接很多的外部设备。

##### 冯诺伊曼结构和哈佛结构的存储器设计西乡

###### 冯诺伊曼结构

冯诺伊曼结构也称普林斯顿结构，即指令和数据是不加区别地混合存储在同一个存储器中的，共享数据总线。指令地址和数据地址只想同一个存储器的不同物理地址，指令和数据的宽度相同。由于指令和数据存放在同一存储器中，因此冯·诺伊曼结构中不能同时取指令和取操作数。

###### 哈佛结构

哈佛结构的指令和数据是完全分开的，存储器分为两部分，一个是程序存储器，用来存放指令，另一个是数据存储器，用来存放数据。这意味着在一个机器周期内可以同时准备好指令和操作数，本条指令执行时可以预先读取下一条指令，所以哈佛结构的中央处理器通常具有较高的执行效率。

苹果公司改用的arm架构就是使用的哈佛架构设计的，程序指令和数据分开处理。

#### 1.3 计算机系统

计算机系统=硬件系统+软件系统

计算机系统是包含计算机硬件系统的，硬件通常是指一切看得见，摸得到的设备实体；软件通常是泛指各类程序和文件，它们实质上是由一些算法以及其在计算机中的表示所构成的。

###### 硬件和软件的关系

硬件是计算机系统的物质基础，软件是计算机系统的灵魂。硬件和软件是相辅相成的，不可分割的整体。

当前计算机的硬件和软件正朝着互相渗透，互相融合的方向发展，在计算机系统中没有一条明确的硬件于软件的分界线。硬件和软件之间的界面是浮动的，对于程序设计人员来说，硬件和软件在逻辑上是等价的。

硬件软化：原来由硬件实现的操作改由软件来实现。它可以增强系统的功能和适应性。

软件硬化：原来由软件实现的操作改由硬件来实现。它可以显著降低软件在时间上的开销。

固件是指那些存储在能永久保存信息的器件中的程序，是具有软件功能的硬件。

固件的性能指标介于硬件于软件之间，吸收了软、硬件各自的有点，其执行速度快于软件，灵活性优于硬件，是软、硬件结合的产物，计算机功能的固件化将成为计算机fa'zhan









